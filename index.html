<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãŠå¼å½“çŒ®ç«‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />

  <!-- importmap -->
  <script type="importmap">
  {
    "imports": {
      "react/": "https://esm.sh/react@^19.2.3/",
      "react": "https://esm.sh/react@^19.2.3",
      "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
      "@google/genai": "https://esm.sh/@google/genai@^1.37.0"
    }
  }
  </script>
</head>

<body class="bg-orange-50 min-h-screen p-4">

  <div class="max-w-2xl mx-auto bg-white rounded-xl shadow p-6">
    <h1 class="text-2xl font-bold text-orange-600 mb-4">
      ğŸ± ãŠå¼å½“çŒ®ç«‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
    </h1>

    <p class="text-sm text-gray-600 mb-3">
      é£Ÿæã‚„æ¡ä»¶ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€AIãŒå¹³æ—¥5æ—¥åˆ†ã®ãŠå¼å½“çŒ®ç«‹ã‚’ææ¡ˆã—ã¾ã™ã€‚
    </p>

    <textarea
      id="prompt"
      class="w-full h-32 p-3 border rounded mb-4"
      placeholder="ä¾‹ï¼šä»•äº‹ãŒå¿™ã—ã„ã€‚ç¥–çˆ¶æ¯ã‹ã‚‰é‡èœãŒå±Šãäºˆå®šã€‚å¹³æ—¥5æ—¥åˆ†ã®ãŠå¼å½“çŒ®ç«‹ã‚’è€ƒãˆã¦ãã ã•ã„ã€‚"
    ></textarea>

    <button
      onclick="sendPrompt()"
      class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded"
    >
      çŒ®ç«‹ã‚’ä½œã‚‹
    </button>

    <pre
      id="result"
      class="mt-6 whitespace-pre-wrap bg-gray-100 p-4 rounded text-sm"
    ></pre>
  </div>

  <script>
    async function sendPrompt() {
      const prompt = document.getElementById("prompt").value;
      const resultArea = document.getElementById("result");
      resultArea.textContent = "ç”Ÿæˆä¸­â€¦";

      try {
        const response = await fetch(
          "https://bento-api.example.com/generate",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              prompt: prompt
            })
          }
        );

        const data = await response.json();

        resultArea.textContent =
          data.text ||
          data.candidates?.[0]?.content?.parts?.[0]?.text ||
          JSON.stringify(data, null, 2);

      } catch (error) {
        resultArea.textContent = "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸï¼š" + error;
      }
    }

    // Service Workerï¼ˆPWAï¼‰
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>

</body>
</html>
